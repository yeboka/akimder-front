"use strict";exports.id=762,exports.ids=[762],exports.modules={7762:(e,a,r)=>{r.d(a,{Z:()=>i});var n=r(326),s=r(7577),l=r(4223),d=r(867);let{Option:t}=d.default,i=({isBg:e=!1,setIsFormOpen:a,akimat:r})=>{let[i,o]=(0,s.useState)({title_ru:"",title_kk:"",title_en:"",description_ru:"",description_kk:"",description_en:"",address_ru:"",address_kk:"",address_en:"",email:"",contacts:"",region_name_ru:"",region_name_kk:"",region_name_en:"",region_image:"",region_description_ru:"",region_description_kk:"",region_description_en:"",head_name_ru:"",head_name_kk:"",head_name_en:"",head_image:"",head_description_ru:"",head_description_kk:"",head_description_en:"",parent_id:null,whatsapp:"",instagram:"",telegram:"",type:"regional"}),[m,c]=(0,s.useState)([]),[x,u]=(0,s.useState)(""),[b,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{r&&l.Z.get(`/akimat/${r.key}`).then(e=>{o(e.data)})},[r]),(0,s.useEffect)(()=>{(async()=>{try{let e=await l.Z.get("/akimat");c(e.data)}catch(e){console.error("Error fetching akimat options:",e)}})()},[]);let p=e=>{let{name:a,value:r}=e.target;o(e=>({...e,[a]:r}))},_=async e=>{if(e.preventDefault(),!i.email||!i.contacts){u("Пожалуйста, заполните обязательные поля.");return}h(!0),u("");try{if(r)await l.Z.put(`/akimat/${r.key}`,i),u("Данные успешно обновлены!");else{let e=await l.Z.post("/akimat",i);201===e.status&&u("Данные успешно отправлены!")}o({title_ru:"",title_kk:"",title_en:"",description_ru:"",description_kk:"",description_en:"",address_ru:"",address_kk:"",address_en:"",email:"",contacts:"",region_name_ru:"",region_name_kk:"",region_name_en:"",region_image:"",region_description_ru:"",region_description_kk:"",region_description_en:"",head_name_ru:"",head_name_kk:"",head_name_en:"",head_image:"",head_description_ru:"",head_description_kk:"",head_description_en:"",parent_id:null,whatsapp:"",instagram:"",telegram:"",type:"regional"}),a(!1)}catch(e){console.log(e),u("Произошла ошибка при отправке данных.")}finally{h(!1)}};return n.jsx("div",{className:`${e&&"bg-gray-200 p-3 rounded-lg "}`,children:(0,n.jsxs)("form",{onSubmit:_,className:"space-y-10",children:[(0,n.jsxs)("div",{className:"rounded-md border-1 bg-white border-gray p-4 space-y-4",style:{"box-shadow":"rgba(0, 0, 0, 0.16) 0px 1px 4px"},children:[n.jsx("h3",{className:"text-lg font-medium",children:"Основная информация"}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Название (RU)"}),n.jsx("input",{type:"text",name:"title_ru",value:i.title_ru,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Атауы (KK)"}),n.jsx("input",{type:"text",name:"title_kk",value:i.title_kk,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Title (EN)"}),n.jsx("input",{type:"text",name:"title_en",value:i.title_en,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{className:"flex gap-4 items-end",children:[(0,n.jsxs)("div",{className:"w-1/3",children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Тип"}),(0,n.jsxs)(d.default,{value:i.type,onChange:e=>{o(a=>({...a,type:e}))},className:"w-full",placeholder:"Выберите тип",children:[n.jsx(t,{value:"regional",children:"Областной"}),n.jsx(t,{value:"district",children:"Региональный"}),n.jsx(t,{value:"village",children:"Сельский"})]})]}),"regional"!==i.type&&(0,n.jsxs)("div",{className:"w-2/3",children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Родительский акимат (если тип акимата Региональный или Сельский укажите родительский акимат)"}),n.jsx(d.default,{value:i.parent_id,onChange:e=>{o(a=>({...a,parent_id:e}))},className:"w-full",placeholder:"Select parent akimat",children:m.map(e=>n.jsx(t,{value:e.id,children:e.title},e.id))})]})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Описание (RU)"}),n.jsx("textarea",{name:"description_ru",value:i.description_ru,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Сипаттама (KZ)"}),n.jsx("textarea",{name:"description_kk",value:i.description_kk,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Description (EN)"}),n.jsx("textarea",{name:"description_en",value:i.description_en,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]})]}),(0,n.jsxs)("div",{className:"rounded-md border-1 bg-white border-gray p-4 space-y-4",style:{"box-shadow":"rgba(0, 0, 0, 0.16) 0px 1px 4px"},children:[n.jsx("h3",{className:"text-lg font-medium",children:"Контакты и Социальные сети"}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Email"}),n.jsx("input",{type:"email",name:"email",value:i.email,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full",required:!0})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Номер телефона"}),n.jsx("input",{type:"text",name:"contacts",value:i.contacts,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full",required:!0})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"WhatsApp"}),n.jsx("input",{type:"text",name:"whatsapp",value:i.whatsapp,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Instagram"}),n.jsx("input",{type:"text",name:"instagram",value:i.instagram,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Telegram"}),n.jsx("input",{type:"text",name:"telegram",value:i.telegram,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]})]})]}),(0,n.jsxs)("div",{className:"rounded-md border-1 bg-white border-gray p-4 space-y-4",style:{"box-shadow":"rgba(0, 0, 0, 0.16) 0px 1px 4px"},children:[n.jsx("h3",{className:"text-lg font-medium",children:"Информация про область"}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Название области/региона (RU)"}),n.jsx("input",{type:"text",name:"region_name_ru",value:i.region_name_ru,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Название области/региона (KK)"}),n.jsx("input",{type:"text",name:"region_name_kk",value:i.region_name_kk,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Название области/региона (EN)"}),n.jsx("input",{type:"text",name:"region_name_en",value:i.region_name_en,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Ссылка на фотографию области/региона"}),n.jsx("input",{type:"text",name:"region_image",value:i.region_image,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Описание области/региона (RU)"}),n.jsx("textarea",{name:"region_description_ru",value:i.region_description_ru,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Описание области/региона (KK)"}),n.jsx("textarea",{name:"region_description_kk",value:i.region_description_kk,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Описание области/региона (EN)"}),n.jsx("textarea",{name:"region_description_en",value:i.region_description_en,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]})]}),(0,n.jsxs)("div",{className:"rounded-md border-1 bg-white border-gray p-4 space-y-4",style:{"box-shadow":"rgba(0, 0, 0, 0.16) 0px 1px 4px"},children:[n.jsx("h3",{className:"text-lg font-medium",children:"Информация про акима"}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Имя акима (RU)"}),n.jsx("input",{type:"text",name:"head_name_ru",value:i.head_name_ru,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Имя акима (KK)"}),n.jsx("input",{type:"text",name:"head_name_kk",value:i.head_name_kk,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Имя акима (EN)"}),n.jsx("input",{type:"text",name:"head_name_en",value:i.head_name_en,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Ссылка на фотографию акима"}),n.jsx("input",{type:"text",name:"head_image",value:i.head_image,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Описание акима (RU)"}),n.jsx("textarea",{name:"head_description_ru",value:i.head_description_ru,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Описание акима (KK)"}),n.jsx("textarea",{name:"head_description_kk",value:i.head_description_kk,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-normal mb-1",children:"Описание акима (EN)"}),n.jsx("textarea",{name:"head_description_en",value:i.head_description_en,onChange:p,className:"border rounded-md border-gray-300 p-2 w-full"})]})]}),n.jsx("div",{className:"mt-4",children:b?n.jsx("div",{className:"text-blue-500",children:"Отправка данных..."}):(0,n.jsxs)("div",{className:"flex gap-5",children:[n.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition",children:"Сохранить"}),n.jsx("button",{onClick:()=>{o({title_ru:"",title_kk:"",title_en:"",description_ru:"",description_kk:"",description_en:"",address_ru:"",address_kk:"",address_en:"",email:"",contacts:"",region_name:"",region_image:"",region_description:"",head_name:"",head_image:"",head_description:"",parent_id:null}),a(!1)},className:"border-blue-500 border text-blue-500 py-2 px-4 rounded-md hover:bg-blue-100 transition",children:"Назад"})]})}),x&&n.jsx("div",{className:"mt-4 text-sm text-red-500",children:x})]})})}}};