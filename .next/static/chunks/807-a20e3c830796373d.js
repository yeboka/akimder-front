"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[807],{756:function(e,a,r){r.d(a,{Z:function(){return s}});var n=r(7437);r(2265);var s=e=>{let{children:a,className:r}=e;return(0,n.jsx)("section",{className:"w-full flex justify-center "+r,children:(0,n.jsx)("div",{className:"w-full max-w-[1092px] flex flex-col items-center mx-6",children:a})})}},4713:function(e,a,r){var n=r(7437),s=r(2265),l=r(476),t=r(5007);let{Option:d}=t.default;a.Z=e=>{let{isBg:a=flase,setIsFormOpen:r,akimat:i}=e,[o,m]=(0,s.useState)({title_ru:"",title_kk:"",title_en:"",description_ru:"",description_kk:"",description_en:"",address_ru:"",address_kk:"",address_en:"",email:"",contacts:"",region_name_ru:"",region_name_kk:"",region_name_en:"",region_image:"",region_description_ru:"",region_description_kk:"",region_description_en:"",head_name_ru:"",head_name_kk:"",head_name_en:"",head_image:"",head_description_ru:"",head_description_kk:"",head_description_en:"",parent_id:null,whatsapp:"",instagram:"",telegram:"",type:"regional"}),[c,x]=(0,s.useState)([]),[u,p]=(0,s.useState)(""),[h,b]=(0,s.useState)(!1);(0,s.useEffect)(()=>{i&&l.Z.get("/akimat/".concat(i.key)).then(e=>{m(e.data)})},[i]),(0,s.useEffect)(()=>{(async()=>{try{let e=await l.Z.get("/akimat");x(e.data)}catch(e){console.error("Error fetching akimat options:",e)}})()},[]);let _=e=>{let{name:a,value:r}=e.target;m(e=>({...e,[a]:r}))},g=async e=>{if(e.preventDefault(),!o.email||!o.contacts){p("Пожалуйста, заполните обязательные поля.");return}b(!0),p("");try{if(i)await l.Z.put("/akimat/".concat(i.key),o),p("Данные успешно обновлены!");else{let e=await l.Z.post("/akimat",o);201===e.status&&p("Данные успешно отправлены!")}m({title_ru:"",title_kk:"",title_en:"",description_ru:"",description_kk:"",description_en:"",address_ru:"",address_kk:"",address_en:"",email:"",contacts:"",region_name_ru:"",region_name_kk:"",region_name_en:"",region_image:"",region_description_ru:"",region_description_kk:"",region_description_en:"",head_name_ru:"",head_name_kk:"",head_name_en:"",head_image:"",head_description_ru:"",head_description_kk:"",head_description_en:"",parent_id:null,whatsapp:"",instagram:"",telegram:"",type:"regional"}),r(!1)}catch(e){console.log(e),p("Произошла ошибка при отправке данных.")}finally{b(!1)}};return(0,n.jsx)("div",{className:"".concat(a&&"bg-gray-200 p-3 rounded-lg "),children:(0,n.jsxs)("form",{onSubmit:g,className:"space-y-10",children:[(0,n.jsxs)("div",{className:"rounded-md border-1 bg-white border-gray p-4 space-y-4",style:{"box-shadow":"rgba(0, 0, 0, 0.16) 0px 1px 4px"},children:[(0,n.jsx)("h3",{className:"text-lg font-medium",children:"Основная информация"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Название (RU)"}),(0,n.jsx)("input",{type:"text",name:"title_ru",value:o.title_ru,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Атауы (KK)"}),(0,n.jsx)("input",{type:"text",name:"title_kk",value:o.title_kk,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Title (EN)"}),(0,n.jsx)("input",{type:"text",name:"title_en",value:o.title_en,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{className:"flex gap-4 items-end",children:[(0,n.jsxs)("div",{className:"w-1/3",children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Тип"}),(0,n.jsxs)(t.default,{value:o.type,onChange:e=>{m(a=>({...a,type:e}))},className:"w-full",placeholder:"Выберите тип",children:[(0,n.jsx)(d,{value:"regional",children:"Областной"}),(0,n.jsx)(d,{value:"district",children:"Региональный"}),(0,n.jsx)(d,{value:"village",children:"Сельский"})]})]}),"regional"!==o.type&&(0,n.jsxs)("div",{className:"w-2/3",children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Родительский акимат (если тип акимата Региональный или Сельский укажите родительский акимат)"}),(0,n.jsx)(t.default,{value:o.parent_id,onChange:e=>{m(a=>({...a,parent_id:e}))},className:"w-full",placeholder:"Select parent akimat",children:c.map(e=>(0,n.jsx)(d,{value:e.id,children:e.title},e.id))})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Описание (RU)"}),(0,n.jsx)("textarea",{name:"description_ru",value:o.description_ru,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Сипаттама (KZ)"}),(0,n.jsx)("textarea",{name:"description_kk",value:o.description_kk,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Description (EN)"}),(0,n.jsx)("textarea",{name:"description_en",value:o.description_en,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]})]}),(0,n.jsxs)("div",{className:"rounded-md border-1 bg-white border-gray p-4 space-y-4",style:{"box-shadow":"rgba(0, 0, 0, 0.16) 0px 1px 4px"},children:[(0,n.jsx)("h3",{className:"text-lg font-medium",children:"Контакты и Социальные сети"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Email"}),(0,n.jsx)("input",{type:"email",name:"email",value:o.email,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full",required:!0})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Номер телефона"}),(0,n.jsx)("input",{type:"text",name:"contacts",value:o.contacts,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"WhatsApp"}),(0,n.jsx)("input",{type:"text",name:"whatsapp",value:o.whatsapp,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Instagram"}),(0,n.jsx)("input",{type:"text",name:"instagram",value:o.instagram,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Telegram"}),(0,n.jsx)("input",{type:"text",name:"telegram",value:o.telegram,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]})]})]}),(0,n.jsxs)("div",{className:"rounded-md border-1 bg-white border-gray p-4 space-y-4",style:{"box-shadow":"rgba(0, 0, 0, 0.16) 0px 1px 4px"},children:[(0,n.jsx)("h3",{className:"text-lg font-medium",children:"Информация про область"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Название области/региона (RU)"}),(0,n.jsx)("input",{type:"text",name:"region_name_ru",value:o.region_name_ru,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Название области/региона (KK)"}),(0,n.jsx)("input",{type:"text",name:"region_name_kk",value:o.region_name_kk,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Название области/региона (EN)"}),(0,n.jsx)("input",{type:"text",name:"region_name_en",value:o.region_name_en,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Ссылка на фотографию области/региона"}),(0,n.jsx)("input",{type:"text",name:"region_image",value:o.region_image,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Описание области/региона (RU)"}),(0,n.jsx)("textarea",{name:"region_description_ru",value:o.region_description_ru,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Описание области/региона (KK)"}),(0,n.jsx)("textarea",{name:"region_description_kk",value:o.region_description_kk,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Описание области/региона (EN)"}),(0,n.jsx)("textarea",{name:"region_description_en",value:o.region_description_en,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]})]}),(0,n.jsxs)("div",{className:"rounded-md border-1 bg-white border-gray p-4 space-y-4",style:{"box-shadow":"rgba(0, 0, 0, 0.16) 0px 1px 4px"},children:[(0,n.jsx)("h3",{className:"text-lg font-medium",children:"Информация про акима"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Имя акима (RU)"}),(0,n.jsx)("input",{type:"text",name:"head_name_ru",value:o.head_name_ru,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Имя акима (KK)"}),(0,n.jsx)("input",{type:"text",name:"head_name_kk",value:o.head_name_kk,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Имя акима (EN)"}),(0,n.jsx)("input",{type:"text",name:"head_name_en",value:o.head_name_en,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Ссылка на фотографию акима"}),(0,n.jsx)("input",{type:"text",name:"head_image",value:o.head_image,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Описание акима (RU)"}),(0,n.jsx)("textarea",{name:"head_description_ru",value:o.head_description_ru,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Описание акима (KK)"}),(0,n.jsx)("textarea",{name:"head_description_kk",value:o.head_description_kk,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-normal mb-1",children:"Описание акима (EN)"}),(0,n.jsx)("textarea",{name:"head_description_en",value:o.head_description_en,onChange:_,className:"border rounded-md border-gray-300 p-2 w-full"})]})]}),(0,n.jsx)("div",{className:"mt-4",children:h?(0,n.jsx)("div",{className:"text-blue-500",children:"Отправка данных..."}):(0,n.jsxs)("div",{className:"flex gap-5",children:[(0,n.jsx)("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition",children:"Сохранить"}),(0,n.jsx)("button",{onClick:()=>{m({title_ru:"",title_kk:"",title_en:"",description_ru:"",description_kk:"",description_en:"",address_ru:"",address_kk:"",address_en:"",email:"",contacts:"",region_name:"",region_image:"",region_description:"",head_name:"",head_image:"",head_description:"",parent_id:null}),r(!1)},className:"border-blue-500 border text-blue-500 py-2 px-4 rounded-md hover:bg-blue-100 transition",children:"Назад"})]})}),u&&(0,n.jsx)("div",{className:"mt-4 text-sm text-red-500",children:u})]})})}},476:function(e,a,r){let n=r(3464).Z.create({baseURL:"https://akimpress.kz/api",headers:{"Content-Type":"application/json",Accept:"application/json"}});n.interceptors.request.use(e=>{let a=window.localStorage.getItem("access_token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e.headers["Accept-Language"]=localStorage.getItem("locale")||"ru",e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(window.localStorage.delete("authToken"),window.location.href="/"),Promise.reject(e))),a.Z=n}}]);